language: swift
osx_image: xcode11.1
cache:
  - bundler
install:
  - bundle install
  - pod install --repo-update

addons:
  sonarcloud:
    organization: spacepandas

jobs:
  include:
    - script: bundle exec fastlane test
      name: Unit Tests
      if: fork = true
    - script: ./tests.sh
      name: Unit Tests + SonarCloud
      if: fork = false
    - script: bundle exec fastlane snapshot_test
      name: Snapshot Tests
    - script: Pods/SwiftLint/swiftlint lint --config .swiftlint.yml
      name: SwiftLint
